!function(e){var a,n,r=!1;jQuery(document).ready(function(){jQuery("form.wpcf7-form").each(function(e,a){var n=0,r=jQuery(a).find("fieldset.fieldset-cf7adn");r.length>0&&(jQuery.each(r,function(e,a){0==e?jQuery(a).addClass("cf7adn_current_frm"):jQuery(a).addClass("cf7adn_hide_frm"),jQuery(a).attr("data--cf7adn-order",e),n+=1;var r=jQuery(a).find("input:checkbox.wpcf7-acceptance");r.length&&function(e,a){if(e.length>0){var n=0;jQuery.each(e,function(e,a){jQuery(a).is(":checked")||n++}),n>0?jQuery(a).find(".cf7adn_next").attr("disabled","disabled"):jQuery(a).find(".cf7adn_next").removeAttr("disabled")}}(r,a)}),jQuery.each(r,function(e,a){0==e&&jQuery(a).find(".cf7adn_back").remove(),e==n-1&&jQuery(a).find(".cf7adn_next").remove()}),jQuery(a).attr("data-count-fieldset",n))})}),jQuery(document).on("click",".cf7adn_next",function(e){e.preventDefault();var t=jQuery(this);t.addClass("sending"),a=t.closest(".fieldset-cf7adn"),n=a.next();var i=t.parent().closest("form.wpcf7-form"),d=new FormData;jQuery.each(i.find('input[type="file"]'),function(e,a){d.append(jQuery(a).attr("name"),jQuery(a)[0].files[0])});var f=i.serializeArray();return jQuery.each(f,function(e,a){d.append(a.name,a.value)}),jQuery.ajax({url:cf7adn_object.ajax_url+"?action=cf7_cf7adn_validation",type:"POST",data:d,processData:!1,contentType:!1}).done(function(e){t.removeClass("sending");var d,f=jQuery.parseJSON(e);if(void 0!==f._cf7adn_db_form_data_id&&(i.find('input[name="_cf7adn_db_form_data_id"]').length||i.append('<input type="hidden" name="_cf7adn_db_form_data_id" value="'+f._cf7adn_db_form_data_id+'" />')),!f.success){var o=0;a.find(".wpcf7-form-control-wrap").removeClass("cf7adn-invalid"),a.find(".wpcf7-form-control-wrap .wpcf7-not-valid-tip").remove(),r?a.find(".wpcf7-response-output.wpcf7-validation-errors").removeClass("wpcf7-validation-errors"):a.find(".wpcf7-response-output.wpcf7-validation-errors").remove(),jQuery.each(f.invalid_fields,function(e,n){if(a.find('input[name="'+e+'"]').length||a.find('input[name="'+e+'[]"]').length||a.find('select[name="'+e+'"]').length||a.find('select[name="'+e+'[]"]').length||a.find('textarea[name="'+e+'"]').length||a.find('textarea[name="'+e+'[]"]').length){o+=1;var r=jQuery(".wpcf7-form-control-wrap."+e,i);r.addClass("cf7adn-invalid"),r.find("span.wpcf7-not-valid-tip").remove(),r.append('<span role="alert" class="wpcf7-not-valid-tip">'+n.reason+"</span>")}}),0==o?(f.success=!0,r=!1):t.parents("form.wpcf7-form").find(".wpcf7-response-output").length?(r=!0,t.parents("form.wpcf7-form").find(".wpcf7-response-output").addClass("wpcf7-validation-errors").show().text(f.message)):(r=!1,t.parents("form.wpcf7-form").append('<div class="wpcf7-response-output wpcf7-display-none wpcf7-validation-errors" style="display: block;" role="alert">'+f.message+"</div>"))}if(f.success)return a.css({height:"0px",overflow:"hidden",opacity:"0",visibility:"hidden"}).removeClass("cf7adn_current_frm").addClass("cf7adn_hide_frm"),n.css({height:"auto",overflow:"visible",opacity:"1",visibility:"visible"}).addClass("cf7adn_current_frm").removeClass("cf7adn_hide_frm"),d=i,"true"==cf7adn_object.scroll_step?jQuery("html, body").animate({scrollTop:d.offset().top},"slow"):"scroll_to_top"==cf7adn_object.scroll_step&&jQuery("html, body").animate({scrollTop:jQuery("body").offset().top},"slow"),!1}).fail(function(){t.removeClass("sending")}).always(function(){t.removeClass("sending")}),!1}),document.addEventListener("wpcf7mailsent",function(e){jQuery(e.target).find(".fieldset-cf7adn").css({height:"0px",overflow:"hidden",opacity:"0",visibility:"hidden"}).removeClass("cf7adn_current_frm").addClass("cf7adn_hide_frm"),jQuery(e.target).find(".fieldset-cf7adn").first().css({height:"auto",overflow:"visible",opacity:"1",visibility:"visible"}).addClass("cf7adn_current_frm").removeClass("cf7adn_hide_frm");e.detail.contactFormId;var a=e.detail.apiResponse.redirection_url;""!=a&&null!=a&&(window.location=a)})}(jQuery);
